–ï—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤ React-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥" –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–µ –∫ –ø—Ä–µ–∂–Ω–µ–π –ø–æ–∑–∏—Ü–∏–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏, –∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å —Å–∞–º–æ–≥–æ –≤–µ—Ä—Ö–∞, —ç—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º React Router –∏ –±—Ä–∞—É–∑–µ—Ä–∞.

üîç –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
React Router –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ–∑–∏—Ü–∏—é —Å–∫—Ä–æ–ª–ª–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏, React Router (v5/v6) –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ–∑–∏—Ü–∏—é —Å–∫—Ä–æ–ª–ª–∞ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞–∑–∞–¥/–≤–ø–µ—Ä–µ–¥.

SPA (Single Page Application) –Ω–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É

–ü–æ—Å–∫–æ–ª—å–∫—É React –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–ª–Ω—É—é –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –±—Ä–∞—É–∑–µ—Ä –Ω–µ –≤—Å–µ–≥–¥–∞ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–∫—Ä–æ–ª–ª.

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–æ–ª–ª –≤–≤–µ—Ä—Ö (scrollToTop)

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ä–æ—É—Ç–µ—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, createBrowserRouter –≤ React Router v6) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä–æ–ª–ª—è—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤–≤–µ—Ä—Ö –ø—Ä–∏ —Å–º–µ–Ω–µ –º–∞—Ä—à—Ä—É—Ç–∞.

üõ† –ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å?
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å window.scrollRestoration (–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±)
–î–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, App.js):

javascript
Copy
// –û—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∫—Ä–æ–ª–ª–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
if ('scrollRestoration' in window.history) {
  window.history.scrollRestoration = 'manual';
}

// –í —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å useEffect
useEffect(() => {
  window.history.scrollRestoration = 'manual';
}, []);
2. –í—Ä—É—á–Ω—É—é —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –ø–æ–∑–∏—Ü–∏—é —Å–∫—Ä–æ–ª–ª–∞
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ sessionStorage –∏–ª–∏ useLocation:

javascript
Copy
import { useEffect } from 'react';
import { useLocation } from 'react-router-dom';

function ScrollToTop() {
  const { pathname } = useLocation();

  useEffect(() => {
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–æ–∑–∏—Ü–∏—é —Å–∫—Ä–æ–ª–ª–∞ –ø–µ—Ä–µ–¥ —É—Ö–æ–¥–æ–º —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    const handleBeforeUnload = () => {
      sessionStorage.setItem(`scrollPos_${pathname}`, window.scrollY);
    };
    window.addEventListener('beforeunload', handleBeforeUnload);

    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏—é –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ
    const savedScrollPos = sessionStorage.getItem(`scrollPos_${pathname}`);
    if (savedScrollPos) {
      window.scrollTo(0, parseInt(savedScrollPos));
    }

    return () => {
      window.removeEventListener('beforeunload', handleBeforeUnload);
    };
  }, [pathname]);

  return null;
}

// –î–æ–±–∞–≤—å—Ç–µ <ScrollToTop /> –≤ –≤–∞—à App.js
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å react-router-scroll-top (–¥–ª—è React Router v5)
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞–∫–µ—Ç:

bash
Copy
npm install react-router-scroll-top
–ó–∞—Ç–µ–º –æ–±–µ—Ä–Ω–∏—Ç–µ —Ä–æ—É—Ç—ã:

javascript
Copy
import { ScrollToTop } from 'react-router-scroll-top';

<Router>
  <ScrollToTop />
  <Routes>
    {/* ... */}
  </Routes>
</Router>
4. –î–ª—è React Router v6 ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å useScrollRestoration
–í–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –∫–∞—Å—Ç–æ–º–Ω—ã–º —Ö—É–∫–æ–º:

javascript
Copy
import { useEffect } from 'react';
import { useLocation } from 'react-router-dom';

export function useScrollRestoration() {
  const { key } = useLocation();

  useEffect(() => {
    const savedScrollPos = sessionStorage.getItem(key);
    if (savedScrollPos) {
      window.scrollTo(0, parseInt(savedScrollPos));
    }

    return () => {
      sessionStorage.setItem(key, window.scrollY.toString());
    };
  }, [key]);
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ:
useScrollRestoration();
–ò—Ç–æ–≥:
–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤ React Router ‚Üí –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ useScrollRestoration –∏–ª–∏ sessionStorage.

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ ‚Üí –ü–æ–ø—Ä–æ–±—É–π—Ç–µ history.scrollRestoration = 'manual'.

–î–ª—è –ø—Ä–æ—Å—Ç—ã—Ö SPA ‚Üí –ú–æ–∂–µ—Ç –ø–æ–º–æ—á—å <ScrollToTop />.