1. –û—à–∏–±–∫–∞: "Hooks can only be called inside the body of a function component"

–≠—Ç–∞ –æ—à–∏–±–∫–∞ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Ö—É–∫–∏ React (useState, useEffect –∏ –¥—Ä.) –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –æ–±—ã—á–Ω—ã—Ö JavaScript-—Ñ–∞–π–ª–∞—Ö, –∞ –Ω–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö React.

–ü—Ä–∏—á–∏–Ω—ã –∏ —Ä–µ—à–µ–Ω–∏—è:

üîπ 1.1. –•—É–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–Ω–µ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:

js
Copy
// –û–±—ã—á–Ω—ã–π JS-—Ñ–∞–π–ª (–Ω–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç!)
import { useState } from 'react';

const someVar = useState(''); // –û—à–∏–±–∫–∞!
‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ:

jsx
Copy
// React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç
import React, { useState } from 'react';

function MyComponent() {
  const [value, setValue] = useState(''); // –†–∞–±–æ—Ç–∞–µ—Ç
  return <div>{value}</div>;
}
üîπ 1.2. Capacitor –≤—ã–∑—ã–≤–∞–µ—Ç –∫–æ–¥ –≤–Ω–µ React

–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Capacitor-–ø–ª–∞–≥–∏–Ω—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, @capacitor/core) –≤ –Ω–µ-React –æ–∫—Ä—É–∂–µ–Ω–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ index.js –∏–ª–∏ —Å–µ—Ä–≤–∏—Å-–≤–æ—Ä–∫–µ—Ä–µ), React-—Ö—É–∫–∏ —Ç–∞–º —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ –±—É–¥—É—Ç.

–†–µ—à–µ–Ω–∏–µ:

–í—ã–Ω–µ—Å–∏—Ç–µ –ª–æ–≥–∏–∫—É —Å —Ö—É–∫–∞–º–∏ –≤ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.
–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Capacitor API –≤–Ω–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –¥–µ–ª–∞–π—Ç–µ —ç—Ç–æ –≤ –æ–±—ã—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö (–±–µ–∑ —Ö—É–∫–æ–≤).
2. –û—à–∏–±–∫–∞: "Invalid hook call" (React –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞—ë—Ç—Å—è)

–¢–∞–∫–æ–µ –±—ã–≤–∞–µ—Ç, –µ—Å–ª–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—Ä—Å–∏–π React –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–±–æ—Ä–∫–∏.

–ü—Ä–∏—á–∏–Ω—ã –∏ —Ä–µ—à–µ–Ω–∏—è:

üîπ 2.1. –î–≤–µ –≤–µ—Ä—Å–∏–∏ React –≤ –ø—Ä–æ–µ–∫—Ç–µ

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:

bash
Copy
npm ls react react-dom
–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ (react@17 –∏ react@18), –∏—Å–ø—Ä–∞–≤—å—Ç–µ:

bash
Copy
npm dedupe  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
# –ò–õ–ò
npm install react@latest react-dom@latest --force  # –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
üîπ 2.2. Capacitor –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:

–í package.json —É–∫–∞–∑–∞–Ω–∞ –æ–¥–Ω–∞ –≤–µ—Ä—Å–∏—è React.
–í index.js –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä (–¥–ª—è React 18+):
jsx
Copy
import { createRoot } from 'react-dom/client';
const root = createRoot(document.getElementById('root'));
root.render(<App />);
3. –û—à–∏–±–∫–∞: "Capacitor is not defined" –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–ª–∞–≥–∏–Ω–∞–º–∏

–ï—Å–ª–∏ Capacitor –Ω–µ –≤–∏–¥–∏—Ç —Ö—É–∫–∏ –∏–ª–∏ —Å–∞–º –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è:

–†–µ—à–µ–Ω–∏–µ:

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–º–ø–æ—Ä—Ç—ã:
js
Copy
import { Capacitor } from '@capacitor/core';  // –î–ª—è JS-API
import { useCapacitor } from './hooks/useCapacitor';  // –ï—Å–ª–∏ –µ—Å—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ö—É–∫–∏
–û–±–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
bash
Copy
npm install @capacitor/core@latest @capacitor/cli@latest
npx cap sync
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Webpack/Vite –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
–î–ª—è Create React App –ø—Ä–æ–±–ª–µ–º –æ–±—ã—á–Ω–æ –Ω–µ—Ç, –Ω–æ –µ—Å–ª–∏ —Å–±–æ—Ä–∫–∞ –∫–∞—Å—Ç–æ–º–Ω–∞—è, –¥–æ–±–∞–≤—å—Ç–µ:
js
Copy
// vite.config.js (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Vite)
export default defineConfig({
  plugins: [react()],
  optimizeDeps: {
    include: ['@capacitor/core'],
  },
});
–ò—Ç–æ–≥: –∫–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏ —Å —Ö—É–∫–∞–º–∏ –≤ Capacitor + React?

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ React ‚Üí npm ls react.
–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ö—É–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö.
–û–±–Ω–æ–≤–∏—Ç—å Capacitor –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ ‚Üí npx cap sync.
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–±–æ—Ä–∫–∏ (Webpack/Vite).