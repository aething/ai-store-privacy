# План тестирования Android-приложения перед публикацией

## 1. Тесты налогообложения по странам

### 1.1 Тесты для стран ЕС
- [ ] **Германия (DE)**: Проверить отображение НДС 19% (MwSt.)
  - [ ] Зайти под тестовым пользователем с страной DE
  - [ ] Проверить, что цены отображаются в EUR
  - [ ] Проверить, что на странице checkout сумма включает налог 19%
  - [ ] Проверить, что на чеке правильно указан MwSt. 19%

- [ ] **Франция (FR)**: Проверить отображение НДС 20% (TVA)
  - [ ] Зайти под тестовым пользователем с страной FR
  - [ ] Проверить, что цены отображаются в EUR
  - [ ] Проверить, что на странице checkout сумма включает налог 20%
  - [ ] Проверить, что на чеке правильно указан TVA 20%

- [ ] **Италия (IT)**: Проверить отображение НДС 22% (IVA)
  - [ ] Зайти под тестовым пользователем с страной IT
  - [ ] Проверить, что цены отображаются в EUR
  - [ ] Проверить, что на странице checkout сумма включает налог 22%
  - [ ] Проверить, что на чеке правильно указан IVA 22%

- [ ] **Испания (ES)**: Проверить отображение НДС 21% (IVA)
  - [ ] Зайти под тестовым пользователем с страной ES
  - [ ] Проверить, что цены отображаются в EUR
  - [ ] Проверить, что на странице checkout сумма включает налог 21%
  - [ ] Проверить, что на чеке правильно указан IVA 21%

### 1.2 Тесты для стран вне ЕС
- [ ] **США (US)**: Проверить отсутствие налога
  - [ ] Зайти под тестовым пользователем с страной US
  - [ ] Проверить, что цены отображаются в USD
  - [ ] Проверить, что на странице checkout нет дополнительного налога
  - [ ] Проверить, что на чеке нет строки с налогом

- [ ] **Великобритания (GB)**: Проверить отображение НДС 20% (VAT)
  - [ ] Зайти под тестовым пользователем с страной GB
  - [ ] Проверить, что цены отображаются в GBP
  - [ ] Проверить, что на странице checkout сумма включает налог 20%
  - [ ] Проверить, что на чеке правильно указан VAT 20%

## 2. Тесты PWA-функциональности на Android

### 2.1 Установка и обновление
- [ ] **Установка приложения**: Проверить процесс установки
  - [ ] Открыть сайт в Chrome, дождаться появления баннера установки
  - [ ] Установить как PWA приложение
  - [ ] Проверить, что иконка появилась на рабочем столе
  - [ ] Запустить через иконку и убедиться, что приложение открывается

- [ ] **Обновление приложения**: Проверить процесс обновления
  - [ ] Установить более старую версию приложения
  - [ ] Запустить снова после релиза обновленной версии
  - [ ] Проверить, что приложение показывает диалог обновления
  - [ ] Подтвердить обновление и убедиться в успешной установке

### 2.2 Оффлайн-функциональность
- [ ] **Работа без Интернета**: Проверить оффлайн-режим
  - [ ] Загрузить приложение при наличии Интернета
  - [ ] Отключить Интернет (авиарежим)
  - [ ] Проверить, что приложение запускается и показывает оффлайн-контент
  - [ ] Проверить, что при попытке оплаты выводится сообщение о необходимости подключения

- [ ] **Кэширование данных**: Проверить кэширование
  - [ ] Просмотреть разные страницы продуктов при наличии Интернета
  - [ ] Отключить Интернет
  - [ ] Проверить, что ранее просмотренные страницы доступны из кэша
  - [ ] Проверить, что непросмотренные страницы показывают оффлайн-сообщение

### 2.3 Уведомления и push-сообщения
- [ ] **Push-уведомления**: Проверить получение уведомлений
  - [ ] Разрешить push-уведомления при запросе
  - [ ] Сделать тестовую покупку или действие, которое должно вызвать уведомление
  - [ ] Убедиться, что уведомление приходит и корректно отображается
  - [ ] Проверить, что при нажатии на уведомление открывается нужная страница

## 3. Тесты мобильного UX и адаптивности

### 3.1 Адаптивность на разных устройствах
- [ ] **Смартфоны с маленьким экраном**: Проверить на экранах ~4.7-5.5"
  - [ ] Проверить читаемость всех элементов
  - [ ] Проверить, что все кнопки и элементы управления удобны для нажатия
  - [ ] Убедиться в отсутствии горизонтальной прокрутки

- [ ] **Смартфоны с большим экраном**: Проверить на экранах ~6-7"
  - [ ] Проверить, что интерфейс эффективно использует доступное пространство
  - [ ] Проверить режим разделенного экрана (если применимо)
  - [ ] Убедиться, что изображения не растянуты или пикселизованы

- [ ] **Планшеты**: Проверить на экранах 8" и больше
  - [ ] Проверить двухпанельный режим (если реализован)
  - [ ] Проверить корректность лейаута в ландшафтной ориентации
  - [ ] Убедиться, что информация отображается эффективно без пустых пространств

### 3.2 Жесты и взаимодействие
- [ ] **Сенсорные жесты**: Проверить основные жесты
  - [ ] Проверить прокрутку (вертикальную и горизонтальную)
  - [ ] Проверить жест "назад" (свайп от края экрана)
  - [ ] Проверить масштабирование (пинч для увеличения/уменьшения)
  - [ ] Проверить свайп-действия в списках (если реализованы)

- [ ] **Тактильная обратная связь**: Проверить отклик
  - [ ] Проверить, что нажатие на интерактивные элементы дает визуальное подтверждение
  - [ ] Проверить использование системной вибрации при необходимости
  - [ ] Убедиться, что анимации плавные и не вызывают задержек

## 4. Тесты производительности и ресурсов

### 4.1 Производительность
- [ ] **Скорость запуска**: Засечь время холодного/теплого старта
  - [ ] Проверить время холодного запуска (первый запуск)
  - [ ] Проверить время теплого запуска (повторный запуск)
  - [ ] Убедиться, что splash screen отображается корректно

- [ ] **Скорость загрузки страниц**: Измерить время загрузки
  - [ ] Проверить время загрузки списка продуктов
  - [ ] Проверить время загрузки страницы продукта
  - [ ] Проверить время загрузки корзины/checkout
  - [ ] Убедиться, что страницы загружаются не дольше 3 секунд

- [ ] **Прокрутка и анимации**: Оценить плавность
  - [ ] Проверить плавность прокрутки длинных списков
  - [ ] Проверить плавность анимаций переходов между экранами
  - [ ] Убедиться в отсутствии фризов и дропов кадров

### 4.2 Потребление ресурсов
- [ ] **Использование памяти**: Проверить расход RAM
  - [ ] Проверить потребление памяти в фоновом режиме
  - [ ] Проверить потребление памяти при активном использовании
  - [ ] Убедиться, что нет утечек памяти при длительном использовании

- [ ] **Использование процессора**: Проверить нагрузку на CPU
  - [ ] Проверить загрузку CPU в фоновом режиме
  - [ ] Проверить загрузку CPU при активном использовании
  - [ ] Убедиться, что приложение не вызывает перегрев устройства

- [ ] **Расход батареи**: Оценить энергопотребление
  - [ ] Провести тест длительного использования и замерить процент расхода батареи
  - [ ] Проверить расход в фоновом режиме
  - [ ] Убедиться, что приложение не входит в список энергозатратных

## 5. Тесты безопасности и приватности

### 5.1 Защита данных
- [ ] **Хранимые данные**: Проверить безопасность хранения
  - [ ] Проверить, что чувствительные данные не хранятся в открытом виде
  - [ ] Убедиться, что данные платежей не сохраняются локально
  - [ ] Проверить, что кэш приложения не содержит личной информации

- [ ] **Сетевые запросы**: Проверить безопасность соединений
  - [ ] Убедиться, что все API-запросы идут через HTTPS
  - [ ] Проверить, что сертификаты SSL проверяются корректно
  - [ ] Убедиться в наличии защиты от MITM-атак

### 5.2 Соответствие нормам приватности
- [ ] **Запросы разрешений**: Проверить запросы прав
  - [ ] Проверить, что приложение запрашивает только необходимые разрешения
  - [ ] Убедиться, что каждый запрос разрешения сопровождается понятным объяснением
  - [ ] Проверить работу приложения при отказе в необязательных разрешениях

- [ ] **Политика конфиденциальности**: Проверить доступность
  - [ ] Убедиться, что политика конфиденциальности легко доступна из приложения
  - [ ] Проверить, что все пункты сбора данных отражены в политике
  - [ ] Проверить наличие возможности удаления аккаунта и данных пользователя

## 6. Специфические тесты для нашего приложения

### 6.1 Интернационализация
- [ ] **Языковые настройки**: Проверить поддержку разных языков
  - [ ] Проверить отображение интерфейса на всех поддерживаемых языках (EN, DE, FR, ES, IT, RU)
  - [ ] Убедиться, что система автоматически определяет язык устройства
  - [ ] Проверить корректность перевода специализированных терминов

- [ ] **Региональные настройки**: Проверить локализацию
  - [ ] Проверить форматы дат и времени для разных регионов
  - [ ] Проверить форматы чисел и валют
  - [ ] Убедиться в корректном отображении местных налогов и сборов

### 6.2 Платежные интеграции
- [ ] **Stripe Checkout**: Проверить процесс оплаты
  - [ ] Проверить процесс создания платежного намерения
  - [ ] Проверить различные методы оплаты (карты, Apple Pay, Google Pay)
  - [ ] Убедиться, что после успешной оплаты заказ обрабатывается корректно
  - [ ] Проверить обработку отмены или неудачной оплаты

- [ ] **Подписки**: Проверить работу подписок (если реализованы)
  - [ ] Проверить процесс оформления подписки
  - [ ] Проверить процесс отмены подписки
  - [ ] Проверить обработку просроченных платежей
  - [ ] Убедиться, что доступ к платному контенту корректно управляется

## 7. Тесты на соответствие политикам Google Play

### 7.1 Требования Google Play
- [ ] **Целостность данных**: Проверить соответствие
  - [ ] Убедиться в отсутствии поддельных учетных записей и накрутки рейтингов
  - [ ] Проверить легитимность всего используемого контента
  - [ ] Убедиться в отсутствии запрещенного контента

- [ ] **Ограничения контента**: Проверить соответствие возрастным рейтингам
  - [ ] Убедиться, что контент приложения соответствует заявленному возрастному рейтингу
  - [ ] Проверить отсутствие шокирующего, жестокого или насильственного контента
  - [ ] Убедиться в отсутствии ненадлежащей рекламы (если используется)

- [ ] **Функциональность**: Проверить стабильность
  - [ ] Убедиться, что приложение не крашится и не имеет критических багов
  - [ ] Проверить, что все заявленные функции работают
  - [ ] Убедиться, что приложение корректно работает на разных устройствах и версиях Android

### 7.2 Метаданные и материалы
- [ ] **Скриншоты и иконки**: Проверить соответствие
  - [ ] Убедиться, что все скриншоты актуальны и соответствуют текущей версии
  - [ ] Проверить, что иконка не содержит запрещенных элементов
  - [ ] Убедиться, что промо-графика точно представляет приложение

- [ ] **Описание**: Проверить точность
  - [ ] Убедиться, что описание соответствует актуальной функциональности
  - [ ] Проверить, что в описании нет недостоверной информации
  - [ ] Убедиться, что новости обновления точно отражают изменения