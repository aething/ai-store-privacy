# Руководство по публикации приложения в Google Play

Это руководство описывает процесс публикации вашего PWA (Progressive Web App) приложения "AI Store" в Google Play.

## Содержание
1. [Подготовка PWA](#1-подготовка-pwa)
2. [Создание AAB-файла](#2-создание-aab-файла)
3. [Подготовка метаданных](#3-подготовка-метаданных)
4. [Настройка консоли Google Play](#4-настройка-консоли-google-play)
5. [Загрузка и публикация](#5-загрузка-и-публикация)
6. [Примечания по оплате](#6-примечания-по-оплате)

## 1. Подготовка PWA

Убедитесь, что PWA соответствует всем требованиям:

- ✅ Работа в офлайн режиме (реализовано)
- ✅ Корректный Web App Manifest (реализовано)
- ✅ HTTPS (обеспечивается Replit)
- ✅ Адаптивный дизайн (реализовано)

Перед публикацией рекомендуется проверить ваше PWA с помощью Lighthouse:

```
npm run lighthouse
```

## 2. Создание AAB-файла

Для создания Android App Bundle (AAB) файла:

1. **Создайте ключ для подписи**:
   ```bash
   keytool -genkey -v -keystore aistore.keystore -alias aistore -keyalg RSA -keysize 2048 -validity 10000
   ```
   
   **ВАЖНО**: Сохраните keystorе и пароль в надежном месте. Потеря этих данных сделает невозможным обновление приложения.

2. **Обновите конфигурацию Capacitor**:
   Отредактируйте `capacitor.config.ts` и добавьте пути к keystore:
   ```typescript
   android: {
     buildOptions: {
       keystorePath: 'path/to/aistore.keystore',
       keystorePassword: 'your-keystore-password',
       keystoreAlias: 'aistore',
       keystoreAliasPassword: 'your-alias-password',
       signingType: 'apksigner'
     }
   }
   ```

3. **Создайте релизную сборку**:
   ```bash
   cd android
   ./gradlew bundleRelease
   ```

4. **Найдите AAB-файл**: После успешной сборки AAB-файл будет доступен по пути:
   ```
   android/app/build/outputs/bundle/release/app-release.aab
   ```

## 3. Подготовка метаданных

Для публикации в Google Play вам потребуются следующие материалы:

1. **Иконки приложения**:
   - Значок высокого разрешения 512x512 px (PNG или JPEG)
   - Графический элемент функции 1024x500 px (PNG или JPEG)

2. **Скриншоты**:
   - Минимум 2 скриншота телефона (16:9)
   - Рекомендуется добавить скриншоты для планшетов
   
3. **Описание приложения**:
   - Краткое описание (до 80 символов)
   - Полное описание (до 4000 символов)
   - Добавьте ключевые особенности и преимущества

4. **Категоризация**:
   - Выберите категорию: "Бизнес" или "Инструменты"
   - Установите возрастной рейтинг: для всех возрастов

## 4. Настройка консоли Google Play

1. **Создайте аккаунт разработчика**:
   - Посетите [console.developers.google.com](https://console.developers.google.com)
   - Зарегистрируйтесь и оплатите сбор ($25)

2. **Создайте новое приложение**:
   - В консоли разработчика нажмите "Create Application"
   - Введите название и выберите язык по умолчанию

3. **Заполните информацию о приложении**:
   - Store listing (скриншоты, описания)
   - Content rating (возрастные ограничения)
   - Pricing & distribution (страны распространения)

## 5. Загрузка и публикация

1. **Загрузите AAB-файл**:
   - В разделе "App releases" выберите "Production track"
   - Нажмите "Create release" и загрузите AAB-файл

2. **Проверьте информацию о выпуске**:
   - Добавьте примечания к выпуску
   - Укажите номер версии

3. **Отправьте на проверку**:
   - Нажмите "Review" для проверки всех данных
   - Нажмите "Start rollout to Production" для публикации

4. **Ожидайте проверки**:
   - Обычно проверка занимает от нескольких часов до нескольких дней
   - Вы получите уведомление о результатах проверки

## 6. Примечания по оплате

При интеграции Stripe в приложение для Google Play учитывайте:

1. **Комиссии Google Play**:
   - Google Play взимает 15% комиссии с каждой транзакции
   - Это означает, что вам нужно учитывать эту комиссию при установке цен

2. **Настройка Stripe**:
   - Убедитесь, что ваш Stripe аккаунт настроен для поддержки регионов, где будет распространяться приложение
   - Проверьте налоговые настройки для разных стран

3. **Альтернативные способы оплаты**:
   - Google требует использовать Google Play Billing для продажи цифровых товаров
   - Для физических товаров и услуг можно использовать Stripe напрямую

---

**Примечание**: Сохраняйте все данные для входа, пароли и ключи подписи в надежном месте. Утеря этих данных может привести к невозможности обновления приложения в будущем.

## Контрольный список перед публикацией

- [ ] PWA полностью функционирует и проходит все тесты
- [ ] AAB-файл создан и подписан
- [ ] Подготовлены все метаданные (иконки, скриншоты, описания)
- [ ] Настроены платежи и учтены комиссии платформы
- [ ] Проверено соответствие политикам Google Play
